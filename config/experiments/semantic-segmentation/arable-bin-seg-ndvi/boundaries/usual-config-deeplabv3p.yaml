# @package _global_
defaults:
  - _self_
  - override /models: semantic-segmentation/deeplabv3plus
  - override /datasets: semantic-segmentation/arable-bin-seg-ndvi/boundaries/tile-512-channels-459.yaml
  # - override /metrics: basic
  - override /loggers: wandb
  # - override /callbacks: basic
  # - override /trainers: basic_on_gpu_0
  - override /losses: semantic-segmentation/dice
  - override /optimizers: adam
  # - override /schedulers: cosine_annealing_warm_restarts
  # - override /checkpoints:
  - override /augmentations_train: arable-ndvi
  - override /augmentations_val: arable-ndvi

  - override /wandb: default

datasets:
  num_workers: 32
  # todo: add random seed

# stages:
#   - train 

# optimizers:
#   lr: 3e-5

# schedulers:
#   T_0: 30  # Number of iterations for the first restart.  60
#   T_mult: 1
#   eta_min: 1e-6  # 1e-5
#   last_epoch: -1

# # losses:
# #   from_logits: True

augmentations_train:
  augmentations:
    position:
      random_crop:
        height: 448
        width: 448

augmentations_val:
  augmentations:
    position:
      random_crop:
        height: 448
        width: 448

models:
  in_channels: 3
  classes: 1
  encoder_name: dpn98
  encoder_depth: 5
  encoder_weights:


project: arable-bound-bin-seg-ndvi
task: image-segmentation
random_seed: 42
accelerator: gpu
devices: 1
batch_size: 40
num_workers: 32
weights_freq: 20

wandb:
  project: arable-bound-bin-seg-ndvi
  group: baseline
  job_type: training
